import{r as _,s as y,j as e,q as P,u as n,F as j,t as k,p as I,H as O}from"./index-WRsQAKNN.js";import{t as A,s as d,e as D}from"./aboutFields-BKqtoNuj.js";import{E as R}from"./Error-YQUkzED6.js";import{f as b,F as U}from"./faPenToSquare-Dw8WaajV.js";import{D as M}from"./DeleteButton-BC_5WLWN.js";import{u as B}from"./aws-eKdh3-Wd.js";const V=({id:r,timeline:s})=>{const[o,i]=_.useState(!1),t=s?A(s):A(),{mutateAsync:m,isError:u,error:p,isPending:F}=y("timelines"),{mutateAsync:v,isError:E,error:w,isPending:N}=y("timelines",r),l=r?w:p,f=r?E:u,S=r?v:m;async function T(a){a.preventDefault();const c=new FormData(a.currentTarget),h={title:c.get("title"),date:c.get("date"),body:c.get("body")};try{await S(h)&&!f&&i(!1)}catch(g){console.error("error creating timeline",g)}}return F||N?e.jsx(P,{}):e.jsxs("section",{id:"form",children:[e.jsx("button",{className:n.btnForm,onClick:()=>i(!o),children:r?e.jsx(j,{icon:b.faPenToSquare}):e.jsxs("div",{children:["Create Timeline Event",e.jsx(j,{icon:b.faPenToSquare})]})}),e.jsxs(U,{visible:o,onClose:()=>i(!1),children:[e.jsxs("form",{className:n.form,onSubmit:T,encType:"multipart/form-data",children:[e.jsx("h1",{className:n.mainHeading,children:"Timeline Form"}),t.map(a=>e.jsxs("div",{children:[e.jsx("label",{htmlFor:a.name,children:a.label}),e.jsx("input",{type:a.type,name:a.name,id:a.name,placeholder:a.placeholder,defaultValue:a.defaultValue})]},a.name)),e.jsx("button",{className:n.btnForm,type:"submit",children:"Submit"})]}),f&&e.jsxs("p",{children:["Error: ",l==null?void 0:l.message]})]})]})};var C={},q;function z(){return q||(q=1,function(r){Object.defineProperty(r,"__esModule",{value:!0});var s="fas",o="clock",i=512,t=512,m=[128339,"clock-four"],u="f017",p="M256 0a256 256 0 1 1 0 512A256 256 0 1 1 256 0zM232 120V256c0 8 4 15.5 10.7 20l96 64c11 7.4 25.9 4.4 33.3-6.7s4.4-25.9-6.7-33.3L280 243.2V120c0-13.3-10.7-24-24-24s-24 10.7-24 24z";r.definition={prefix:s,iconName:o,icon:[i,t,m,u,p]},r.faClock=r.definition,r.prefix=s,r.iconName=o,r.width=i,r.height=t,r.ligatures=m,r.unicode=u,r.svgPathData=p,r.aliases=m}(C)),C}var K=z();const G=({isAdmin:r,timeline:s})=>e.jsxs("div",{className:d.timelineCard,children:[e.jsx("h1",{className:n.mainHeading,children:s.title}),e.jsxs("h1",{className:n.paragraph,children:[e.jsx(j,{icon:K.faClock,className:d.clockIcon}),"-",s.date]}),e.jsx("p",{className:n.paragraph,children:s.body}),r&&s.id&&e.jsxs("div",{className:n.optionsBtn,children:[e.jsx(V,{id:s.id,timeline:s}),e.jsx(M,{id:s.id,resourceKey:"timelines"})]})]}),J=()=>{const{isAdmin:r}=k(),{data:s,isLoading:o,isError:i}=I("timelines");return i?e.jsx(R,{}):o?e.jsx(P,{}):e.jsx("section",{id:"timeline",children:e.jsx("div",{className:d.timeline,children:s==null?void 0:s.map(t=>e.jsx(G,{timeline:t,isAdmin:r},t.id))})})},H=({id:r,employee:s})=>{const[o,i]=_.useState(!1),t=s?D(s):D(),{mutateAsync:m,isError:u,error:p,isPending:F}=y("employees"),{mutateAsync:v,isError:E,error:w,isPending:N}=y("employees",r),l=r?w:p,f=r?E:u,S=r?v:m;async function T(a){a.preventDefault();const c=new FormData(a.currentTarget),h=c.get("profile_image"),g={name:c.get("name"),email:c.get("email"),role:c.get("role"),profile_image:h?h.name:"null"};try{const x=await S(g);if(h){const L={imageFile:h,presignedUrl:x.presignedUrl};await B(L)}x&&!f&&i(!1)}catch(x){console.error("error creating employee",x)}}return F||N?e.jsx(P,{}):e.jsxs("section",{id:"form",children:[e.jsx("button",{className:n.btnForm,onClick:()=>i(!o),children:r?e.jsx(j,{icon:b.faPenToSquare}):e.jsxs("div",{children:["Create Employee",e.jsx(j,{icon:b.faPenToSquare})]})}),e.jsxs(U,{visible:o,onClose:()=>i(!1),children:[e.jsxs("form",{className:n.form,onSubmit:T,encType:"multipart/form-data",children:[e.jsx("h1",{className:n.mainHeading,children:"Employee Form"}),t.map(a=>e.jsxs("div",{children:[e.jsx("label",{htmlFor:a.name,children:a.label}),e.jsx("input",{type:a.type,name:a.name,id:a.name,placeholder:a.placeholder,defaultValue:a.defaultValue})]},a.name)),e.jsx("button",{className:n.btnForm,type:"submit",children:"Submit"})]}),f&&e.jsxs("p",{children:["Error: ",l==null?void 0:l.message]})]})]})},Q=()=>{var i;const{isAdmin:r}=k(),s=I("employees"),o=t=>{t.currentTarget.src="/default.jpg"};return e.jsxs("section",{id:"employees",children:[r&&e.jsx(H,{}),e.jsx("div",{className:d.employees,children:(i=s.data)==null?void 0:i.map(t=>e.jsxs("div",{className:d.employeeCard,children:[e.jsx("img",{src:t.profile_image,alt:"/default.jpg",width:100,height:100,onError:o}),e.jsxs("div",{className:d.employeeInfo,children:[e.jsx("h1",{className:n.mainHeading,children:t.name}),e.jsx("p",{className:n.paragraph,children:t.role})]}),e.jsx("div",{className:d.employeeContact,children:e.jsxs("p",{className:n.paragraph,children:["Email: ",t.email]})}),r&&t.id&&e.jsxs("div",{className:n.optionsBtn,children:[e.jsx(H,{id:t.id,employee:t}),e.jsx(M,{id:t.id,resourceKey:"employees"})]})]},t.id))})]})},re=()=>{const{isAdmin:r}=k();return e.jsxs(e.Fragment,{children:[e.jsxs(O,{children:[e.jsx("title",{children:"About Us - Farmec Ireland"}),e.jsx("meta",{name:"description",content:"Learn more about Farmec's staff and history. Meet our team and explore our 30-year journey as a family-run business providing high-quality machinery."}),e.jsx("meta",{property:"og:title",content:"About Us - Farmec Ireland"}),e.jsx("meta",{property:"og:description",content:"Discover Farmec's staff, history, and vision for the future."}),e.jsx("meta",{property:"og:image",content:"https://www.farmec.ie/farmec_images/Suppliers/sip1250.webp"}),e.jsx("meta",{property:"og:url",content:"https://www.farmec.ie/about"}),e.jsx("meta",{property:"og:type",content:"website"}),e.jsx("meta",{name:"twitter:card",content:"summary_large_image"}),e.jsx("meta",{name:"twitter:title",content:"About Us - Farmec Ireland"}),e.jsx("meta",{name:"twitter:description",content:"Learn more about Farmec's staff and history. Meet our team and explore our 30-year journey as a family-run business providing high-quality machinery."}),e.jsx("meta",{name:"twitter:image",content:"https://www.farmec.ie/farmec_images/Suppliers/sip1250.webp"}),e.jsx("link",{rel:"canonical",href:"https://www.farmec.ie/about"})]}),e.jsxs("section",{id:"about",children:[e.jsx("h1",{className:n.sectionHeading,children:"Our Team"}),e.jsx("p",{className:n.subHeading,children:"Meet our staff and management team"}),e.jsx(Q,{}),e.jsxs("div",{className:n.aboutHeading,children:[e.jsx("h1",{className:n.sectionHeading,children:"Our Story"}),e.jsx("p",{className:n.subHeading,children:"Farmec is a family run and owned business founded nearly 30 years ago. Farmec is committed to the importation and distribution of high quality machinery tailored to meet the needs of agricultural and amenity dealers and ultimately farmers, contractors and golf courses. Farmec commits to supplying a reliable, professional and customer orientated sales, technical support and parts service at value for money prices. Our vision is to be the preferred source of world class machinery for the Irish farmer to help them to grow their farm enterprises and continue to make a valuable and increased contribution to the Irish Economy."})]}),r&&e.jsx(V,{}),e.jsx(J,{})]})]})};export{re as default};
