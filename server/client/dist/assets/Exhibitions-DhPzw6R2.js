import{r as k,s as p,j as e,q as b,u as r,F as d,t as H,p as T,H as q}from"./index-Ccr6UcQ6.js";import{s as x}from"./Blogs.module-m-DV5lDv.js";import{E as A}from"./Error-D1CBDqcE.js";import{f as u,F as I}from"./faPenToSquare-D2RrIwG3.js";import{e as j}from"./blogFields-Cn3ZjptV.js";import{D as _}from"./DeleteButton-BJvpJ_bk.js";const g=({id:i,exhibition:a})=>{const[o,n]=k.useState(!1),t=a?j(a):j(),{mutateAsync:w,isError:f,error:E,isPending:F}=p("exhibitions"),{mutateAsync:y,isError:N,error:S,isPending:D}=p("exhibitions",i),m=i?S:E,l=i?N:f,C=i?y:w;async function P(s){s.preventDefault();const c=new FormData(s.currentTarget),v={title:c.get("title"),date:c.get("date"),location:c.get("location"),info:c.get("info")};try{await C(v)&&!l&&n(!1)}catch(h){console.error("error creating exhibition",h)}}return F||D?e.jsx(b,{}):e.jsxs("section",{id:"form",children:[e.jsx("button",{className:r.btnForm,onClick:()=>n(!o),children:i?e.jsx(d,{icon:u.faPenToSquare}):e.jsxs("div",{children:["Create Exhibition",e.jsx(d,{icon:u.faPenToSquare})]})}),e.jsxs(I,{visible:o,onClose:()=>n(!1),children:[e.jsxs("form",{className:r.form,onSubmit:P,encType:"multipart/form-data",children:[e.jsx("h1",{className:r.mainHeading,children:"Exhibition Form"}),t.map(s=>e.jsxs("div",{children:[e.jsx("label",{htmlFor:s.name,children:s.label}),e.jsx("input",{type:s.type,name:s.name,id:s.name,placeholder:s.placeholder,defaultValue:s.defaultValue})]},s.name)),e.jsx("button",{className:r.btnForm,type:"submit",children:"Submit"})]}),l&&e.jsxs("p",{children:["Error: ",m==null?void 0:m.message]})]})]})},K=()=>{const{isAdmin:i}=H(),{data:a,isLoading:o,isError:n}=T("exhibitions");return n?e.jsx(A,{}):o?e.jsx(b,{}):e.jsxs(e.Fragment,{children:[e.jsxs(q,{children:[e.jsx("title",{children:"Exhibitions - Farmec Ireland"}),e.jsx("meta",{name:"description",content:"Check out the upcoming exhibitions where Farmec will showcase its latest machinery. Don't miss the chance to see our products in action."}),e.jsx("meta",{property:"og:title",content:"Exhibitions - Farmec Ireland"}),e.jsx("meta",{property:"og:description",content:"Check out the upcoming exhibitions where Farmec will showcase its latest machinery. Don't miss the chance to see our products in action."}),e.jsx("meta",{property:"og:image",content:"https://www.farmec.ie/farmec_images/Suppliers/sip1250.webp"}),e.jsx("meta",{property:"og:url",content:"https://www.farmec.ie/exhibitions"}),e.jsx("meta",{property:"og:type",content:"website"}),e.jsx("meta",{name:"twitter:card",content:"summary_large_image"}),e.jsx("meta",{name:"twitter:title",content:"Exhibitions - Farmec Ireland"}),e.jsx("meta",{name:"twitter:description",content:"Check out the upcoming exhibitions where Farmec will showcase its latest machinery. Don't miss the chance to see our products in action."}),e.jsx("meta",{name:"twitter:image",content:"https://www.farmec.ie/farmec_images/Suppliers/sip1250.webp"}),e.jsx("link",{rel:"canonical",href:"https://www.farmec.ie/exhibitions"})]}),e.jsxs("section",{id:"exhibitions",children:[e.jsx("h1",{className:r.sectionHeading,children:"Exhibitions:"}),e.jsx("h1",{className:r.subHeading,children:"Check out upcoming events related to Farmec"}),i&&e.jsx(g,{}),a&&e.jsx("div",{className:x.exhibitions,children:a.map(t=>e.jsxs("div",{className:x.exhibition,children:[e.jsx("h1",{className:r.mainHeading,children:t.title}),e.jsx("p",{className:r.paragraph,children:t.date}),e.jsx("p",{className:r.paragraph,children:t.location}),e.jsx("p",{className:r.paragraph,children:t.info}),i&&t.id&&e.jsxs("div",{className:r.optionsBtn,children:[e.jsx(g,{id:t.id,exhibition:t}),e.jsx(_,{id:t.id,resourceKey:"exhibitions"})]})]},t.id))})]})]})};export{K as default};
